syntax = "proto3";

package user.v1;

option go_package = "user/v1";

// UserService определяет сервис для работы с пользователями
service UserService {
  // RegisterUser регистрирует нового пользователя
  rpc RegisterUser(RegisterUserRequest) returns (RegisterUserResponse);

  // Login выполняет аутентификацию пользователя
  rpc Login(LoginRequest) returns (LoginResponse);

  // GetLoginById получает логин пользователя по ID
  rpc GetLoginById(GetLoginByIdRequest) returns (GetLoginByIdResponse);

  // GetUserByLogin получает информацию о пользователе по логину
  rpc GetUserByLogin(GetUserByLoginRequest) returns (GetUserByLoginResponse);

  // GetAllUsers получает список всех пользователей
  rpc GetAllUsers(GetAllUsersRequest) returns (GetAllUsersResponse);
}

// RegisterUserRequest содержит данные для регистрации пользователя
message RegisterUserRequest {
  string login = 1;         // Логин пользователя
  string password = 2;      // Пароль пользователя
}

// RegisterUserResponse содержит результат регистрации
message RegisterUserResponse {
  string user_id = 1;       // UUID зарегистрированного пользователя
}

// LoginRequest содержит данные для аутентификации
message LoginRequest {
  string login = 1;         // Логин пользователя
  string password = 2;      // Пароль пользователя
}

// LoginResponse содержит результат аутентификации
message LoginResponse {
  string user_id = 1;       // UUID аутентифицированного пользователя
  bool  is_admin1 = 2;
  bool is_admin2 = 3;
}

// GetLoginByIdRequest содержит ID пользователя для получения логина
message GetLoginByIdRequest {
  string user_id = 1;       // UUID пользователя
}

// GetLoginByIdResponse содержит логин пользователя
message GetLoginByIdResponse {
  string login = 1;         // Логин пользователя
}

// GetUserByLoginRequest содержит логин для получения информации о пользователе
message GetUserByLoginRequest {
  string login = 1;         // Логин пользователя
}

// GetUserByLoginResponse содержит информацию о пользователе
message GetUserByLoginResponse {
  string user_id = 1;       // UUID пользователя
  string login = 2;         // Логин пользователя
  bool is_admin1 = 3;       // Флаг администратора 1
  bool is_admin2 = 4;       // Флаг администратора 2
}

// GetAllUsersRequest запрос для получения всех пользователей
message GetAllUsersRequest {
  // Пустой запрос - получаем всех пользователей
}

// UserInfo информация о пользователе
message UserInfo {
  string user_id = 1;       // UUID пользователя
  string login = 2;         // Логин пользователя
  bool is_admin1 = 3;       // Флаг администратора 1
  bool is_admin2 = 4;       // Флаг администратора 2
}

// GetAllUsersResponse ответ со списком всех пользователей
message GetAllUsersResponse {
  repeated UserInfo users = 1; // Массив пользователей
}